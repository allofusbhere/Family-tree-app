:root { --max-w: 100vmin; --pad: 16px; --anim-ms: 260ms; }
* { box-sizing: border-box; }
html, body { height:100%; margin:0; background:#000; color:#eee; font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; overscroll-behavior:none; }
body, #app, #stage { touch-action:none; -webkit-user-select:none; user-select:none; }
#app { min-height:100%; display:grid; grid-template-rows:auto auto 1fr auto; }

.topbar { display:flex; justify-content:space-between; align-items:center; padding:var(--pad); background:#090909; border-bottom:1px solid #222; }
.brand { font-weight:700; letter-spacing:.5px; }
.build { opacity:.7; font-size:.9rem; }

/* Start bar */
.startbar { display:flex; align-items:center; gap:8px; padding:10px var(--pad); background:#0e0e0e; border-bottom:1px solid #222; }
.startbar input { background:#141414; color:#eee; border:1px solid #2a2a2a; border-radius:10px; padding:8px 10px; width:160px; }
.startbar button { background:#1b1b1b; color:#eee; border:1px solid #2a2a2a; padding:8px 12px; border-radius:10px; }
.startbar small { opacity:.7; }

#stage { display:grid; place-items:center; padding:var(--pad); position:relative; }
#anchorImg { max-width:min(100%, var(--max-w)); max-height:calc(100svh - 250px); object-fit:contain; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.65); transition:transform var(--anim-ms) ease, opacity var(--anim-ms) ease; will-change:transform, opacity; }

.controls { display:flex; gap:8px; padding:var(--pad); justify-content:center; flex-wrap:wrap; background:#090909; border-top:1px solid #222; }
.controls button { background:#1b1b1b; color:#eee; border:1px solid #2a2a2a; padding:10px 14px; border-radius:12px; font-size:.95rem; }
.controls button:active { transform:translateY(1px); }

.debug { position:absolute; bottom:10px; left:50%; transform:translateX(-50%); background:rgba(20,20,20,.8); border:1px solid #333; padding:8px 12px; border-radius:10px; font-size:.9rem; opacity:0; transition:opacity 180ms ease; pointer-events:none; }

/* Swipe animations */
.swipe-out-left  { transform:translateX(-40px); opacity:.35; }
.swipe-out-right { transform:translateX(40px);  opacity:.35; }
.swipe-out-up    { transform:translateY(-40px); opacity:.35; }
.swipe-out-down  { transform:translateY(40px);  opacity:.35; }
.swipe-in-left  { animation:swipeInLeft  var(--anim-ms) ease; }
.swipe-in-right { animation:swipeInRight var(--anim-ms) ease; }
.swipe-in-up    { animation:swipeInUp    var(--anim-ms) ease; }
.swipe-in-down  { animation:swipeInDown  var(--anim-ms) ease; }
@keyframes swipeInLeft  { from{ transform:translateX(40px);  opacity:.35 } to{ transform:none; opacity:1 } }
@keyframes swipeInRight { from{ transform:translateX(-40px); opacity:.35 } to{ transform:none; opacity:1 } }
@keyframes swipeInUp    { from{ transform:translateY(40px);  opacity:.35 } to{ transform:none; opacity:1 } }
@keyframes swipeInDown  { from{ transform:translateY(-40px); opacity:.35 } to{ transform:none; opacity:1 } }

/* Hide buttons on touch devices, show on PC */
@media (hover:none) and (pointer:coarse) { .controls { display:none; } }
@media (hover:hover) and (pointer:fine)   { .controls { display:flex; } }
