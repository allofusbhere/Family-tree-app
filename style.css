*{box-sizing:border-box}html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
#app{display:flex;flex-direction:column;height:100%;background:#0b0c10;color:#e5e7eb}
.topbar{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#111827;border-bottom:1px solid #1f2937}
.topbar #title{margin-left:.25rem;font-weight:700;letter-spacing:.3px}
#idInputWrap{margin-left:auto;display:flex;gap:.5rem}
#idInput{padding:.4rem .6rem;border-radius:.5rem;border:1px solid #374151;background:#0f172a;color:#e5e7eb;width:12rem}
#startBtn,#backBtn{padding:.4rem .7rem;border-radius:.6rem;border:1px solid #374151;background:#111827;color:#e5e7eb;cursor:pointer}
#startBtn:hover,#backBtn:hover{background:#0b1220}

#stage{position:relative;flex:1;display:flex;justify-content:center;align-items:center;overflow:hidden}
#anchorWrap{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;outline:3px solid #2563eb;border-radius:1.25rem;padding:1rem;background:#0f172a;box-shadow:0 10px 30px rgba(0,0,0,.35)}
#anchorImg{max-width:min(80vw,520px);max-height:min(60vh,520px);object-fit:contain;border-radius:1rem;user-select:none;touch-action:none}
#anchorLabel{text-align:center}
#anchorName{font-weight:700}
#anchorId{opacity:.8;font-size:.9rem}

.hint{padding:.5rem 1rem;background:#0b1220;color:#9ca3af;border-top:1px solid #1f2937;font-size:.9rem}

.hidden{display:none}

#overlay{position:absolute;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center}
.overlay-inner{width:min(900px,92vw);max-height:86vh;background:#0f172a;border:1px solid #1f2937;border-radius:1rem;box-shadow:0 20px 50px rgba(0,0,0,.45);display:flex;flex-direction:column}
.overlay-header{display:flex;align-items:center;justify-content:space-between;padding:.8rem 1rem;border-bottom:1px solid #1f2937}
#grid{padding:1rem;display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:1rem;overflow:auto}
.tile{background:#111827;border:1px solid #1f2937;border-radius:.75rem;padding:.6rem;display:flex;flex-direction:column;gap:.4rem;cursor:pointer}
.tile:hover{background:#0b1220}
.tile .imgwrap{height:150px;display:flex;align-items:center;justify-content:center;background:#0b0c10;border-radius:.5rem;overflow:hidden}
.tile img{max-width:100%;max-height:100%;object-fit:contain;display:block}
.tile .meta{display:flex;flex-direction:column;text-align:center}
.tile .name{font-weight:600}
.tile .id{opacity:.8;font-size:.85rem}
.placeholder{opacity:.5;pointer-events:none}
