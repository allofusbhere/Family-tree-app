/* iPad scroll lock and layout */
html, body { height:100%; overscroll-behavior:none; }
body { margin:0; touch-action:none; -ms-touch-action:none; background:#0b0c10; color:#e6edf3; font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}
.app{ display:grid; grid-template-rows:auto 1fr auto; min-height:100vh; }
.topbar{ display:grid; grid-template-columns:1fr auto 1fr; gap:.75rem; align-items:center; padding:.5rem .75rem; background:#111317; border-bottom:1px solid #1e2228; position:sticky; top:0; z-index:10;}
.topbar .right{ display:flex; justify-content:flex-end; }
#startForm{ display:flex; gap:.5rem; }
#startId{ background:#0f1115; color:#e6edf3; border:1px solid #283040; border-radius:.5rem; padding:.4rem .6rem; width:12ch;}
.btn{ background:#2b6cb0; color:#fff; border:none; border-radius:.6rem; padding:.45rem .75rem; cursor:pointer;}
.stage{ position:relative; display:grid; place-items:center; width:100%; height:100%; overflow:hidden;}
#anchor{ max-width:min(92vw,760px); max-height:min(72vh,720px); object-fit:contain; border-radius:1rem; box-shadow:0 8px 30px rgba(0,0,0,.35); user-select:none; -webkit-user-drag:none;}

/* Overlay */
.overlay{ position:absolute; inset:0; display:grid; grid-template-areas:'up up up' 'left anchor right' 'down down down'; grid-template-columns:1fr auto 1fr; grid-template-rows:1fr auto 1fr; gap:1rem; padding:1rem; background:rgba(0,0,0,.8);}
.overlay.hidden{ display:none;}
.tile{ background:#151922; border:1px solid #243047; border-radius:1rem; padding:.5rem; display:grid; place-items:center; box-shadow:0 8px 24px rgba(0,0,0,.35);}
.tile img{ max-width:100%; max-height:100%; object-fit:contain; border-radius:.75rem;}
.tile.up{ grid-area:up; min-height:22vh;} .tile.left{ grid-area:left; min-width:32vw; min-height:32vh;} .tile.right{ grid-area:right; min-width:32vw; min-height:32vh;} .tile.down{ grid-area:down; min-height:26vh;}
.hint{ text-align:center; padding:.6rem; color:#98a6b3; font-size:.9rem; background:#0f1115; border-top:1px solid #1e2228;}
.label{ padding:.2rem .5rem; background:#202738; border:1px solid #2a3752; border-radius:.5rem; color:#cbd5e1;}
.sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0;}

/* HOTFIX: ensure the actual touch targets disable native gestures */
#stage { touch-action: none; -ms-touch-action: none; }
#anchor { touch-action: none; -ms-touch-action: none; -webkit-user-drag: none; user-select: none; }
